@using Microsoft.AspNetCore.Identity
@using EquiMarketApp.Data
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="flex flex-wrap list-reset pl-0 mb-0 items-center">
    @if (SignInManager.IsSignedIn(User))
    {
        <li class="hidden lg:flex">
            <a class="text-white hover:bg-darkBlue px-3 py-2 rounded-md text-sm font-base" asp-area="Identity"
                asp-page="/Account/Manage/Index" title="Manage">Hej @User.Identity?.Name!</a>
        </li>
        <li class="">
            <!-- Profile dropdown -->
            <div class="relative ml-3">
                <div>
                    <button type="button" class="relative flex rounded-full text-sm hover:bg-darkBlue" id="user-menu-button"
                        aria-expanded="false" aria-haspopup="true">
                        <span class="absolute -inset-1.5"></span>
                        <span class="sr-only">Open user menu</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="white" class="w-8 h-8">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        </svg>
                    </button>
                </div>

                <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden"
                    role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">
                    <a asp-area="Identity" asp-page="/Account/Manage/Index" class="block px-4 py-2 text-sm text-gray-700"
                        role="menuitem" tabindex="-1" id="user-menu-item-0">Profil</a>
                    <form method="post" asp-area="Identity" asp-page="/Account/Logout"
                        asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
                        class="block text-sm text-gray-700" role="menuitem">
                        <button type="submit" class="w-full text-left px-4 py-2">Logga ut</button>
                    </form>
                </div>
            </div>
        </li>
    }
    else
    {
        <li>
            <a class="flex items-center hover:bg-darkBlue px-3 py-2 rounded-md text-white font-semibold" asp-area="Identity"
                asp-page="/Account/Register">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                </svg>
                <span class="ml-3 text-sm">Registrera</span>
            </a>
        </li>
        <li>
            <a class="flex items-center hover:bg-darkBlue px-3 py-2 rounded-md text-white font-semibold" asp-area="Identity"
                asp-page="/Account/Login">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25" />
                </svg>
                <span class="ml-3 text-sm">Logga in</span>
            </a>
        </li>
    }
</ul>
